# 进程与线程

## 一、进程初识

程序：是一个指令序列

**PCB、程序段、数据段**三部分构成了**进程实体**。PCB是进程存在的唯一标识；

**程序段：**存放代码本身，存放指令序列

**数据段：**存放程序运行时，产生的数据，全局变量，局部变量，常量等等；

**PCB（进程控制块）：**操作系统是通过PCB来管理进程的，进程描述信息：PID，UID；进程控制信息；系统资源分配清单；处理机的相关信息；



进程组织问题：

链接方式，索引方式；

**进程特称：**动态性（程序的执行的一次过程），并发性，独立性；进程是资源调用，分配的基本单位；

## 二、进程的状态

进程的三种基本状态：

运行态：占有CPU，并在CPU上运行；

就绪态：已经具备运行条件，但是由于没有空闲的CPU，暂时无法运行；

阻塞态：因等待某一事件而在那时不能运行；

另外，还有**创建态，终止态**



**进程的状态转换**

![image-20201105155046277](/Users/anner/Library/Application Support/typora-user-images/image-20201105155046277.png)



用原语实现进程控制，原语的特点就是执行期间不允许中断，只能一气呵成；这种不可以被中断的操作，称为原子操作，原语中采用，关中断，开中断指令，原语一定是运行在核心态；

阻塞原语

唤醒原语

切换原语

## 三、进程通信

实现进程之间的信息交换；有三种方式实现进程通信：

方式一：共享存储

基于数据结构的共享：在共享空间里只能放一个长度为10的数组，这种共享方式速度缓慢

基于存储区的共享：在内存内划分一个共享区域；

注意两个进程共享空间的访问必须是互斥的；

**方式二：管道通信**

管道是值用于连接读写进程非一个共享文件，又名pipe实际就是在内存中开辟一个大小固定的缓冲区；

![image-20201105171419099](/Users/anner/Library/Application Support/typora-user-images/image-20201105171419099.png)

**方式三：消息传递**

进程间的数据交换以格式化的消息为单位，进程通过操作系统提供的“发送消息/接收消息”两个原语进行数据交换；

![image-20201105172029499](/Users/anner/Library/Application Support/typora-user-images/image-20201105172029499.png)

## 四、多线程

